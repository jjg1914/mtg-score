{"version":3,"sources":["index.coffee","index.js","mtg/mtg-index.tpl.jade","mtg/mtg-menu.tpl.jade","mtg/mtg-number-input.tpl.jade","mtg/mtg-settings.tpl.jade","mtg/mtg-settings-controller.coffee","mtg/mtg-settings-controller.js","mtg/mtg-score-format.coffee","mtg/mtg-score-format.js","mtg/mtg-number-input.coffee","mtg/mtg-number-input.js","mtg/mtg-menu-controller.coffee","mtg/mtg-menu-controller.js","mtg/mtg-index-controller.coffee","mtg/mtg-index-controller.js","mtg/mtg-controller.coffee","mtg/mtg-controller.js","config.state.coffee","config.state.js","config.hover.coffee","config.hover.js","config.hammer.coffee","config.hammer.js"],"names":["angular","module","call","this","run","$templateCache","put","controller","$scope","filter","value","initial","e","i","len","ref","history","length","historyLatest","directive","restrict","replace","scope","templateUrl","link","decrement","increment","$state","newGame","players","push","name","go","$timeout","_saveHistory","player","historyTimeout","cancel","decrementScore","clearScore","invertScore","_navigate","settings","initialScore","navigate","direction","index","Hammer","DIRECTION_LEFT","indexOf","current","config","$stateProvider","$urlRouterProvider","state","url","otherwise","document","body","addEventListener","classes","results","getElementsByTagName","className","split","join","splice","hammerDefaultOptsProvider","set","recognizers","Tap","event","Press","Swipe","DIRECTION_HORIZONTAL"],"mappings":"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","file":"index.min.js","sourcesContent":["angular.module \"mtg\", [ \"ui.router\", \"angular-gestures\", \"sprintf\" ]\n","(function() {\n  angular.module(\"mtg\", [\"ui.router\", \"angular-gestures\", \"sprintf\"]);\n\n}).call(this);\n",".mtg-score-board\n  .mtg-score(ng-repeat=\"player in players\")\n    .mtg-score-display\n      span.mtg-jumbo(hm-tap=\"decrementScore(player)\" hm-hold=\"invertScore(player)\")\n        | {{ player | mtgScoreFormat : settings.initialScore }}\n    .mtg-score-history-latest(\n        ng-if=\"player.historyLatest != null\"\n        hm-hold=\"clearScore(player)\")\n      span(ng-class=\"{ 'mtg-bg-negative': player.historyLatest < 0, 'mtg-bg-positive': player.historyLatest >= 0 }\")\n        | {{ \"%+i\" | sprintf : player.historyLatest }}\n    .mtg-score-history\n      .mtg-score-history-item(\n        ng-class=\"{ 'mtg-text-negative': item < 0, 'mtg-text-positive': item >= 0 }\"\n        ng-repeat=\"item in player.history track by $index\")\n        | {{ \"%+i\" | sprintf : item }}\n","ul.mtg-menu\n  li.mtg-menu-item(hm-tap=\"newGame()\") New Game\n  li.mtg-menu-item Roll\n  li.mtg-menu-item Lookup\n",".mtg-input.mtg-number-input\n  .mtg-number-input-display {{ value }}\n  .mtg-number-input-control\n    span.mtg-number-input-control-item(\n      ng-class=\"{'mtg-text-muted': value >= 50}\"\n      hm-tap=\"increment()\")\n      | +\n    span.mtg-number-input-control-item(\n      ng-class=\"{'mtg-text-muted': value <= 10}\"\n      hm-tap=\"decrement()\")\n      | &#8722;\n","form\n  .mtg-form-input\n    label(for=\"initial-score\") Initial Score:\n    mtg-number-input(value=\"settings.initialScore\")\n","angular.module(\"mtg\").controller \"mtgSettingsController\", ($scope) ->\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgSettingsController\", function($scope) {});\n\n}).call(this);\n","angular.module(\"mtg\").filter \"mtgScoreFormat\", ->\n  (value,initial) ->\n    initial += e for e in value.history\n    initial += value.historyLatest if value.historyLatest?\n    initial\n","(function() {\n  angular.module(\"mtg\").filter(\"mtgScoreFormat\", function() {\n    return function(value, initial) {\n      var e, i, len, ref;\n      ref = value.history;\n      for (i = 0, len = ref.length; i < len; i++) {\n        e = ref[i];\n        initial += e;\n      }\n      if (value.historyLatest != null) {\n        initial += value.historyLatest;\n      }\n      return initial;\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").directive \"mtgNumberInput\",  ->\n  restrict: \"E\"\n  replace: true\n  scope:\n    value: \"=\"\n  templateUrl: \"mtg/mtg-number-input.tpl.html\"\n  link: ($scope) ->\n    $scope.decrement = ->\n      $scope.value -= 10 if $scope.value > 10\n\n    $scope.increment = ->\n      $scope.value += 10 if $scope.value < 50\n","(function() {\n  angular.module(\"mtg\").directive(\"mtgNumberInput\", function() {\n    return {\n      restrict: \"E\",\n      replace: true,\n      scope: {\n        value: \"=\"\n      },\n      templateUrl: \"mtg/mtg-number-input.tpl.html\",\n      link: function($scope) {\n        $scope.decrement = function() {\n          if ($scope.value > 10) {\n            return $scope.value -= 10;\n          }\n        };\n        return $scope.increment = function() {\n          if ($scope.value < 50) {\n            return $scope.value += 10;\n          }\n        };\n      }\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgMenuController\", ($scope,$state) ->\n\n  $scope.newGame = ->\n    $scope.players.length = 0\n    $scope.players.push\n      name: \"Player 1\"\n      history: []\n      historyLatest: null\n    $scope.players.push\n      name: \"Player 2\"\n      history: []\n      historyLatest: null\n    $state.go \"index\"\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgMenuController\", function($scope, $state) {\n    return $scope.newGame = function() {\n      $scope.players.length = 0;\n      $scope.players.push({\n        name: \"Player 1\",\n        history: [],\n        historyLatest: null\n      });\n      $scope.players.push({\n        name: \"Player 2\",\n        history: [],\n        historyLatest: null\n      });\n      return $state.go(\"index\");\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgIndexController\", ($scope,$timeout) ->\n\n  _saveHistory = (player) ->\n    if player.historyTimeout?\n      $timeout.cancel player.historyTimeout\n    player.historyTimeout = $timeout ->\n      player.history.push player.historyLatest if player.historyLatest\n      player.historyLatest = null\n      delete player.historyTimeout\n    , 5000\n\n  $scope.decrementScore = (player) ->\n    if player.historyLatest?\n      player.historyLatest += if player.historyLatest > 0 then 1 else -1\n    else\n      player.historyLatest = -1\n    _saveHistory player\n\n  $scope.clearScore = (player) ->\n    player.historyLatest = null\n    if player.historyTimeout?\n      $timeout.cancel player.historyTimeout\n      delete player.historyTimeout\n\n  $scope.invertScore = (player) ->\n    if player.historyLatest?\n      player.historyLatest *= -1\n    _saveHistory player\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgIndexController\", function($scope, $timeout) {\n    var _saveHistory;\n    _saveHistory = function(player) {\n      if (player.historyTimeout != null) {\n        $timeout.cancel(player.historyTimeout);\n      }\n      return player.historyTimeout = $timeout(function() {\n        if (player.historyLatest) {\n          player.history.push(player.historyLatest);\n        }\n        player.historyLatest = null;\n        return delete player.historyTimeout;\n      }, 5000);\n    };\n    $scope.decrementScore = function(player) {\n      if (player.historyLatest != null) {\n        player.historyLatest += player.historyLatest > 0 ? 1 : -1;\n      } else {\n        player.historyLatest = -1;\n      }\n      return _saveHistory(player);\n    };\n    $scope.clearScore = function(player) {\n      player.historyLatest = null;\n      if (player.historyTimeout != null) {\n        $timeout.cancel(player.historyTimeout);\n        return delete player.historyTimeout;\n      }\n    };\n    return $scope.invertScore = function(player) {\n      if (player.historyLatest != null) {\n        player.historyLatest *= -1;\n      }\n      return _saveHistory(player);\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgController\", ($scope,$state) ->\n\n  _navigate = [\n    \"menu\"\n    \"index\"\n    \"settings\"\n  ]\n\n  $scope.players = [\n    {\n      name: \"Player 1\"\n      history: []\n      historyLatest: null\n    }\n    {\n      name: \"Player 2\"\n      history: []\n      historyLatest: null\n    }\n  ]\n\n  $scope.settings =\n    initialScore: 20\n\n  $scope.navigate = (e) ->\n    direction = if e.direction == Hammer.DIRECTION_LEFT then 1 else -1\n    index = _navigate.indexOf($state.current.name) + direction\n    if index >= 0 and index < _navigate.length\n      $state.go _navigate[index]\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgController\", function($scope, $state) {\n    var _navigate;\n    _navigate = [\"menu\", \"index\", \"settings\"];\n    $scope.players = [\n      {\n        name: \"Player 1\",\n        history: [],\n        historyLatest: null\n      }, {\n        name: \"Player 2\",\n        history: [],\n        historyLatest: null\n      }\n    ];\n    $scope.settings = {\n      initialScore: 20\n    };\n    return $scope.navigate = function(e) {\n      var direction, index;\n      direction = e.direction === Hammer.DIRECTION_LEFT ? 1 : -1;\n      index = _navigate.indexOf($state.current.name) + direction;\n      if (index >= 0 && index < _navigate.length) {\n        return $state.go(_navigate[index]);\n      }\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").config ($stateProvider,$urlRouterProvider) ->\n  $stateProvider\n    .state \"index\",\n      url: \"/\"\n      templateUrl: \"mtg/mtg-index.tpl.html\"\n      controller: \"mtgIndexController\"\n    .state \"menu\",\n      url: \"/menu\"\n      templateUrl: \"mtg/mtg-menu.tpl.html\"\n      controller: \"mtgMenuController\"\n    .state \"settings\",\n      url: \"/settings\"\n      templateUrl: \"mtg/mtg-settings.tpl.html\"\n      controller: \"mtgSettingsController\"\n\n  $urlRouterProvider.otherwise \"/\"\n","(function() {\n  angular.module(\"mtg\").config(function($stateProvider, $urlRouterProvider) {\n    $stateProvider.state(\"index\", {\n      url: \"/\",\n      templateUrl: \"mtg/mtg-index.tpl.html\",\n      controller: \"mtgIndexController\"\n    }).state(\"menu\", {\n      url: \"/menu\",\n      templateUrl: \"mtg/mtg-menu.tpl.html\",\n      controller: \"mtgMenuController\"\n    }).state(\"settings\", {\n      url: \"/settings\",\n      templateUrl: \"mtg/mtg-settings.tpl.html\",\n      controller: \"mtgSettingsController\"\n    });\n    return $urlRouterProvider.otherwise(\"/\");\n  });\n\n}).call(this);\n","angular.module(\"mtg\").config  ->\n  document.body.addEventListener \"mouseenter\", ->\n    for e in document.getElementsByTagName \"body\"\n      classes = e.className.split /\\s+/\n      if classes.indexOf(\"mtg-hover\") == -1\n        classes.push \"mtg-hover\"\n      e.className = classes.join \" \"\n\n  document.body.addEventListener \"mouseleave\", ->\n    for e in document.getElementsByTagName \"body\"\n      classes = e.className.split /\\s+/\n      if (index = classes.indexOf(\"mtg-hover\") > -1)\n        classes.splice index, 1\n      e.className = classes.join \" \"\n","(function() {\n  angular.module(\"mtg\").config(function() {\n    document.body.addEventListener(\"mouseenter\", function() {\n      var classes, e, i, len, ref, results;\n      ref = document.getElementsByTagName(\"body\");\n      results = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        e = ref[i];\n        classes = e.className.split(/\\s+/);\n        if (classes.indexOf(\"mtg-hover\") === -1) {\n          classes.push(\"mtg-hover\");\n        }\n        results.push(e.className = classes.join(\" \"));\n      }\n      return results;\n    });\n    return document.body.addEventListener(\"mouseleave\", function() {\n      var classes, e, i, index, len, ref, results;\n      ref = document.getElementsByTagName(\"body\");\n      results = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        e = ref[i];\n        classes = e.className.split(/\\s+/);\n        if ((index = classes.indexOf(\"mtg-hover\") > -1)) {\n          classes.splice(index, 1);\n        }\n        results.push(e.className = classes.join(\" \"));\n      }\n      return results;\n    });\n  });\n\n}).call(this);\n","angular.module(\"mtg\").config (hammerDefaultOptsProvider) ->\n  hammerDefaultOptsProvider.set\n    recognizers: [\n      [ Hammer.Tap, { event: \"tap\" } ]\n      [ Hammer.Press, { event: \"press\" } ]\n      [ Hammer.Swipe,\n        event: \"swipe\",\n        direction: Hammer.DIRECTION_HORIZONTAL\n      ]\n    ]\n","(function() {\n  angular.module(\"mtg\").config(function(hammerDefaultOptsProvider) {\n    return hammerDefaultOptsProvider.set({\n      recognizers: [\n        [\n          Hammer.Tap, {\n            event: \"tap\"\n          }\n        ], [\n          Hammer.Press, {\n            event: \"press\"\n          }\n        ], [\n          Hammer.Swipe, {\n            event: \"swipe\",\n            direction: Hammer.DIRECTION_HORIZONTAL\n          }\n        ]\n      ]\n    });\n  });\n\n}).call(this);\n"],"sourceRoot":"/source/"}