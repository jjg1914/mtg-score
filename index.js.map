{"version":3,"sources":["index.coffee","index.js","mtg/mtg-index.tpl.jade","mtg/mtg-menu.tpl.jade","mtg/mtg-number-input.tpl.jade","mtg/mtg-settings.tpl.jade","mtg/mtg-settings-controller.coffee","mtg/mtg-settings-controller.js","mtg/mtg-score-format.coffee","mtg/mtg-score-format.js","mtg/mtg-number-input.coffee","mtg/mtg-number-input.js","mtg/mtg-menu-controller.coffee","mtg/mtg-menu-controller.js","mtg/mtg-index-controller.coffee","mtg/mtg-index-controller.js","mtg/mtg-controller.coffee","mtg/mtg-controller.js","config.state.coffee","config.state.js","config.hammer.coffee","config.hammer.js"],"names":["angular","module","call","this","run","$templateCache","put","controller","$scope","filter","value","initial","e","i","len","ref","history","length","historyLatest","directive","restrict","replace","scope","templateUrl","link","decrement","increment","$state","newGame","players","push","name","go","$timeout","score","player","amount","historyTimeout","cancel","_navigate","settings","initialScore","navigate","direction","index","Hammer","DIRECTION_LEFT","indexOf","current","config","$stateProvider","$urlRouterProvider","state","url","otherwise","hammerDefaultOptsProvider","set","recognizers","Tap","event","Press","Swipe","DIRECTION_HORIZONTAL"],"mappings":"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","file":"index.js","sourcesContent":["angular.module \"mtg\", [ \"ui.router\", \"angular-gestures\", \"sprintf\" ]\n","(function() {\n  angular.module(\"mtg\", [\"ui.router\", \"angular-gestures\", \"sprintf\"]);\n\n}).call(this);\n",".mtg-score-board\n  .mtg-score(ng-repeat=\"player in players\")\n    .mtg-score-player {{ player.name }}\n    .mtg-score-display\n      span.mtg-jumbo(hm-tap=\"score(player,-1)\" hm-hold=\"score(player,1)\")\n        | {{ player | mtgScoreFormat : settings.initialScore }}\n    .mtg-score-history-latest(ng-if=\"player.historyLatest != null\")\n      span(ng-class=\"{ 'mtg-bg-negative': player.historyLatest < 0, 'mtg-bg-positive': player.historyLatest >= 0 }\")\n        | {{ \"%+i\" | sprintf : player.historyLatest }}\n    .mtg-score-history\n      .mtg-score-history-item(\n        ng-class=\"{ 'mtg-text-negative': item < 0, 'mtg-text-positive': item >= 0 }\"\n        ng-repeat=\"item in player.history track by $index\")\n        | {{ \"%+i\" | sprintf : item }}\n    .mtg-score-control\n      .mtg-score-control-item(hm-tap=\"score(player,-5)\") -5\n      .mtg-score-control-item(hm-tap=\"score(player,+5)\") +5\n      .mtg-score-control-item(hm-tap=\"score(player,-10)\") -10\n      .mtg-score-control-item(hm-tap=\"score(player,+10)\") +10\n\n","ul.mtg-menu\n  li.mtg-menu-item(hm-tap=\"newGame()\") New Game\n  li.mtg-menu-item Roll\n  li.mtg-menu-item Lookup\n",".mtg-input.mtg-number-input\n  .mtg-number-input-display {{ value }}\n  .mtg-number-input-control\n    span.mtg-number-input-control-item(\n      ng-class=\"{'mtg-text-muted': value >= 50}\"\n      hm-tap=\"increment()\")\n      | +\n    span.mtg-number-input-control-item(\n      ng-class=\"{'mtg-text-muted': value <= 10}\"\n      hm-tap=\"decrement()\")\n      | &#8722;\n","form\n  .mtg-form-input\n    label(for=\"initial-score\") Initial Score:\n    mtg-number-input(value=\"settings.initialScore\")\n","angular.module(\"mtg\").controller \"mtgSettingsController\", ($scope) ->\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgSettingsController\", function($scope) {});\n\n}).call(this);\n","angular.module(\"mtg\").filter \"mtgScoreFormat\", ->\n  (value,initial) ->\n    initial += e for e in value.history\n    initial += value.historyLatest if value.historyLatest?\n    initial\n","(function() {\n  angular.module(\"mtg\").filter(\"mtgScoreFormat\", function() {\n    return function(value, initial) {\n      var e, i, len, ref;\n      ref = value.history;\n      for (i = 0, len = ref.length; i < len; i++) {\n        e = ref[i];\n        initial += e;\n      }\n      if (value.historyLatest != null) {\n        initial += value.historyLatest;\n      }\n      return initial;\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").directive \"mtgNumberInput\",  ->\n  restrict: \"E\"\n  replace: true\n  scope:\n    value: \"=\"\n  templateUrl: \"mtg/mtg-number-input.tpl.html\"\n  link: ($scope) ->\n    $scope.decrement = ->\n      $scope.value -= 10 if $scope.value > 10\n\n    $scope.increment = ->\n      $scope.value += 10 if $scope.value < 50\n","(function() {\n  angular.module(\"mtg\").directive(\"mtgNumberInput\", function() {\n    return {\n      restrict: \"E\",\n      replace: true,\n      scope: {\n        value: \"=\"\n      },\n      templateUrl: \"mtg/mtg-number-input.tpl.html\",\n      link: function($scope) {\n        $scope.decrement = function() {\n          if ($scope.value > 10) {\n            return $scope.value -= 10;\n          }\n        };\n        return $scope.increment = function() {\n          if ($scope.value < 50) {\n            return $scope.value += 10;\n          }\n        };\n      }\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgMenuController\", ($scope,$state) ->\n\n  $scope.newGame = ->\n    $scope.players.length = 0\n    $scope.players.push\n      name: \"Player 1\"\n      history: []\n      historyLatest: null\n    $scope.players.push\n      name: \"Player 2\"\n      history: []\n      historyLatest: null\n    $state.go \"index\"\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgMenuController\", function($scope, $state) {\n    return $scope.newGame = function() {\n      $scope.players.length = 0;\n      $scope.players.push({\n        name: \"Player 1\",\n        history: [],\n        historyLatest: null\n      });\n      $scope.players.push({\n        name: \"Player 2\",\n        history: [],\n        historyLatest: null\n      });\n      return $state.go(\"index\");\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgIndexController\", ($scope,$timeout) ->\n\n  $scope.score = (player,amount) ->\n    player.score += amount\n\n    player.historyLatest += amount\n\n    if player.historyTimeout?\n      $timeout.cancel player.historyTimeout\n    player.historyTimeout = $timeout ->\n      player.history.push player.historyLatest if player.historyLatest\n      player.historyLatest = null\n      delete player.historyTimeout\n    , 5000\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgIndexController\", function($scope, $timeout) {\n    return $scope.score = function(player, amount) {\n      player.score += amount;\n      player.historyLatest += amount;\n      if (player.historyTimeout != null) {\n        $timeout.cancel(player.historyTimeout);\n      }\n      return player.historyTimeout = $timeout(function() {\n        if (player.historyLatest) {\n          player.history.push(player.historyLatest);\n        }\n        player.historyLatest = null;\n        return delete player.historyTimeout;\n      }, 5000);\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").controller \"mtgController\", ($scope,$state) ->\n\n  _navigate = [\n    \"menu\"\n    \"index\"\n    \"settings\"\n  ]\n\n  $scope.players = [\n    {\n      name: \"Player 1\"\n      history: []\n      historyLatest: null\n    }\n    {\n      name: \"Player 2\"\n      history: []\n      historyLatest: null\n    }\n  ]\n\n  $scope.settings =\n    initialScore: 20\n\n  $scope.navigate = (e) ->\n    direction = if e.direction == Hammer.DIRECTION_LEFT then 1 else -1\n    index = _navigate.indexOf($state.current.name) + direction\n    if index >= 0 and index < _navigate.length\n      $state.go _navigate[index]\n","(function() {\n  angular.module(\"mtg\").controller(\"mtgController\", function($scope, $state) {\n    var _navigate;\n    _navigate = [\"menu\", \"index\", \"settings\"];\n    $scope.players = [\n      {\n        name: \"Player 1\",\n        history: [],\n        historyLatest: null\n      }, {\n        name: \"Player 2\",\n        history: [],\n        historyLatest: null\n      }\n    ];\n    $scope.settings = {\n      initialScore: 20\n    };\n    return $scope.navigate = function(e) {\n      var direction, index;\n      direction = e.direction === Hammer.DIRECTION_LEFT ? 1 : -1;\n      index = _navigate.indexOf($state.current.name) + direction;\n      if (index >= 0 && index < _navigate.length) {\n        return $state.go(_navigate[index]);\n      }\n    };\n  });\n\n}).call(this);\n","angular.module(\"mtg\").config ($stateProvider,$urlRouterProvider) ->\n  $stateProvider\n    .state \"index\",\n      url: \"/\"\n      templateUrl: \"mtg/mtg-index.tpl.html\"\n      controller: \"mtgIndexController\"\n    .state \"menu\",\n      url: \"/menu\"\n      templateUrl: \"mtg/mtg-menu.tpl.html\"\n      controller: \"mtgMenuController\"\n    .state \"settings\",\n      url: \"/settings\"\n      templateUrl: \"mtg/mtg-settings.tpl.html\"\n      controller: \"mtgSettingsController\"\n\n  $urlRouterProvider.otherwise \"/\"\n","(function() {\n  angular.module(\"mtg\").config(function($stateProvider, $urlRouterProvider) {\n    $stateProvider.state(\"index\", {\n      url: \"/\",\n      templateUrl: \"mtg/mtg-index.tpl.html\",\n      controller: \"mtgIndexController\"\n    }).state(\"menu\", {\n      url: \"/menu\",\n      templateUrl: \"mtg/mtg-menu.tpl.html\",\n      controller: \"mtgMenuController\"\n    }).state(\"settings\", {\n      url: \"/settings\",\n      templateUrl: \"mtg/mtg-settings.tpl.html\",\n      controller: \"mtgSettingsController\"\n    });\n    return $urlRouterProvider.otherwise(\"/\");\n  });\n\n}).call(this);\n","angular.module(\"mtg\").config (hammerDefaultOptsProvider) ->\n  hammerDefaultOptsProvider.set\n    recognizers: [\n      [ Hammer.Tap, { event: \"tap\" } ]\n      [ Hammer.Press, { event: \"press\" } ]\n      [ Hammer.Swipe,\n        event: \"swipe\",\n        direction: Hammer.DIRECTION_HORIZONTAL\n      ]\n    ]\n","(function() {\n  angular.module(\"mtg\").config(function(hammerDefaultOptsProvider) {\n    return hammerDefaultOptsProvider.set({\n      recognizers: [\n        [\n          Hammer.Tap, {\n            event: \"tap\"\n          }\n        ], [\n          Hammer.Press, {\n            event: \"press\"\n          }\n        ], [\n          Hammer.Swipe, {\n            event: \"swipe\",\n            direction: Hammer.DIRECTION_HORIZONTAL\n          }\n        ]\n      ]\n    });\n  });\n\n}).call(this);\n"],"sourceRoot":"/source/"}